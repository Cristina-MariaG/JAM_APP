# Use the official Python image with tag 3.8 as the base image
FROM python:3.8

EXPOSE 8312

ENV PYTHONDONTWRITEBYTECODE=1
RUN mkdir /back
WORKDIR /back
COPY . /back
RUN apt-get update && apt-get install -y \
    default-libmysqlclient-dev
RUN pip install --no-cache-dir -r /back/requirements.txt


WORKDIR /back






 FROM ubuntu:18.04

# PYTHON 3
RUN apt-get update -y
RUN apt-get upgrade -y
RUN apt-get install build-essential -y
RUN apt install -y python3.7
RUN apt-get update -y
RUN apt-get install -y libpython3.7-dev python-numpy

# FOR MYSQL
RUN apt-get update -y && apt-get upgrade -y
RUN apt-get install -y default-libmysqlclient-dev build-essential
RUN apt-get install -y libssl-dev
RUN apt-get install -y wget

# PIP
RUN apt-get install -y python3-pip
RUN python3.7 -m pip install --upgrade pip

# LIBRARIES
RUN pip3 install django==3.2.9
RUN pip3 install djangorestframework==3.12.4
RUN pip3 install django-filter==21.1
RUN pip3 install python-arango==7.2.0
RUN pip3 install pandas==1.3.5
RUN pip3 install mysqlclient==2.0.3
RUN pip3 install mysql-connector-python==8.0.33
RUN pip3 install pyyaml==6.0
RUN pip3 install django-cors-headers==3.10.0
RUN pip3 install djangorestframework-simplejwt==5.3.0
RUN pip3 install stripe==5.5.0










# Utiliser une image de base Python
FROM python:3.10

# Définir le répertoire de travail
WORKDIR /app

# Copier le fichier requirements.txt et installer les dépendances
COPY ./requirements.txt /app/requirements.txt
RUN pip install --no-cache-dir -r requirements.txt

# Copier le reste du code source de l'application
COPY . /app

# Exposer le port sur lequel fonctionne l'application
EXPOSE 8000